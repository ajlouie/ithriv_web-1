<div *ngIf="!user && !publicpage" class="please-log-in">
  <app-login-services></app-login-services>
</div>

<h1 *ngIf="!user && publicpage" class="mat-h1 page-title">Public View</h1>
<mat-tab-group
  *ngIf="!user && publicpage"
  backgroundColor="primary"
  dynamicHeight
  mat-stretch-tabs
>
  <mat-tab label="Events">
    <div class="example-small-box mat-elevation-z4">
      <app-event-list
        *ngIf="!user && publicpage"
        [events]="events"
        [sidenavExpanded]="false"
        [user]="user"
      ></app-event-list>
    </div>
  </mat-tab>
  <!--
  <mat-tab>
    <ng-template mat-tab-label>
      <span>Research Commons</span>
    </ng-template>
    <ng-template matTabContent>
      <ng-container class="example-small-box mat-elevation-z4">
        <app-commons-home
          [user]="user"
          formStatus="commons-projects-list"
        ></app-commons-home>
      </ng-container>
    </ng-template>
  </mat-tab>
  -->
</mat-tab-group>

<h1 *ngIf="user" class="mat-h1 page-title">myTHRIV Workspace</h1>

<mat-tab-group
  *ngIf="user"
  backgroundColor="primary"
  dynamicHeight
  mat-stretch-tabs
>
  <mat-tab label="Events">
    <ng-template matTabContent>
      <ng-container class="example-small-box mat-elevation-z4">
        <app-event-list
          *ngIf="user"
          [events]="events"
          [sidenavExpanded]="false"
          [user]="user"
        ></app-event-list>
      </ng-container>
    </ng-template>
  </mat-tab>
  <mat-tab label="My Favorite Resources and Events">
    <ng-template matTabContent>
      <ng-container class="example-large-box mat-elevation-z4">
        <app-favorite-resource-list
          *ngIf="user"
          [institution]="institution"
          [user]="user"
        ></app-favorite-resource-list>
      </ng-container>
    </ng-template>
  </mat-tab>
  <mat-tab label="My Resources and Events">
    <ng-template matTabContent>
      <ng-container class="example-large-box mat-elevation-z4">
        <app-user-resource-list
          *ngIf="user"
          [institution]="institution"
          [user]="user"
        ></app-user-resource-list>
      </ng-container>
    </ng-template>
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <span>Research Commons</span>
    </ng-template>
    <ng-template matTabContent>
      <ng-container class="example-small-box mat-elevation-z4">
        <app-commons-home
          [user]="user"
          color="primary"
          formStatus="commons-projects-list"
        ></app-commons-home>
        <!-- <router-outlet name="commons-outlet"></router-outlet> -->
        <!-- <iframe
          width="100%"
          height="100%"
          frameBorder="0"
          [src]="urlSafe"
        ></iframe> -->
      </ng-container>
    </ng-template>
  </mat-tab>
  <mat-tab label="Recently Updated Resources and Events">
    <ng-template matTabContent>
      <ng-container class="example-small-box mat-elevation-z4">
        <app-resource-list
          *ngIf="user"
          [resources]="resources"
          [sidenavExpanded]="false"
          [user]="user"
        ></app-resource-list>
      </ng-container>
    </ng-template>
  </mat-tab>
</mat-tab-group>
